services:
 file-validation-dev2:
  build:
   context: .
   dockerfile: Dockerfile
   target: development
  container_name: file-validation-dev2
  ports:
    - 3000:3000
  environment:
    NODE_ENV: development
    DOCKER_ENV: "true"
  # This is for some old version of hot reloads called binding
  # volumes:
  #   - ./app:/file-validation/app:ro
  #   - ./package.json:/file-validation/package.json
  command: npm run dev
  develop:
    watch:
    - action: sync
      path: ./app
      target: /file-validation/app
    - action: rebuild
      path: ./package.json
  restart: unless-stopped

